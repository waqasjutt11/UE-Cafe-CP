{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\juttw\\\\Documents\\\\GitHub\\\\recipes-app-react-native\\\\src\\\\screens\\\\Signup\\\\SignupScreen.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { FontAwesome, MaterialCommunityIcons } from '@expo/vector-icons';\nimport image from \"../../../assets/splash.png\";\nimport 'firebase/firestore';\nimport firebase from 'firebase';\nimport * as Facebook from 'expo-facebook';\nimport * as GoogleSignIn from 'expo-google-sign-in';\nFacebook.initializeAsync('749884709129361', 'UE Cafe');\n\nvar SignupScreen = function (_React$Component) {\n  _inherits(SignupScreen, _React$Component);\n\n  function SignupScreen() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignupScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignupScreen)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      displayName: '',\n      email: '',\n      password: '',\n      errorMessage: '',\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(SignupScreen, [{\n    key: \"onLoginSuccess\",\n    value: function onLoginSuccess() {\n      this.props.navigation.navigate('Home');\n    }\n  }, {\n    key: \"onLoginFailure\",\n    value: function onLoginFailure(errorMessage) {\n      this.setState({\n        error: errorMessage,\n        loading: false\n      });\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.state.loading) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          }\n        }, React.createElement(ActivityIndicator, {\n          size: 'large',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          }\n        }));\n      }\n    }\n  }, {\n    key: \"signInWithFacebook\",\n    value: function signInWithFacebook() {\n      var _await$Facebook$logIn, type, token, credential, facebookProfileData, message;\n\n      return _regeneratorRuntime.async(function signInWithFacebook$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync('749884709129361', {\n                permissions: ['email', 'public_profile', 'user_friends']\n              }));\n\n            case 3:\n              _await$Facebook$logIn = _context.sent;\n              type = _await$Facebook$logIn.type;\n              token = _await$Facebook$logIn.token;\n\n              if (!(type === 'success')) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL));\n\n            case 9:\n              credential = firebase.auth.FacebookAuthProvider.credential(token);\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(firebase.auth().signInWithCredential(credential));\n\n            case 12:\n              facebookProfileData = _context.sent;\n\n            case 13:\n              _context.next = 19;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](0);\n              message = _context.t0.message;\n              alert(\"Facebook Login Error: \" + message);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 15]]);\n    }\n  }, {\n    key: \"signInWithGoogle\",\n    value: function signInWithGoogle() {\n      var _await$GoogleSignIn$s, _type, user, _credential, googleProfileData, message;\n\n      return _regeneratorRuntime.async(function signInWithGoogle$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(GoogleSignIn.askForPlayServicesAsync());\n\n            case 3:\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(GoogleSignIn.signInAsync());\n\n            case 5:\n              _await$GoogleSignIn$s = _context2.sent;\n              _type = _await$GoogleSignIn$s.type;\n              user = _await$GoogleSignIn$s.user;\n\n              if (!(_type === 'success')) {\n                _context2.next = 16;\n                break;\n              }\n\n              _context2.next = 11;\n              return _regeneratorRuntime.awrap(firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL));\n\n            case 11:\n              _credential = firebase.auth.GoogleAuthProvider.credential(user.auth.idToken, user.auth.accessToken);\n              _context2.next = 14;\n              return _regeneratorRuntime.awrap(firebase.auth().signInWithCredential(_credential));\n\n            case 14:\n              googleProfileData = _context2.sent;\n              this.onLoginSuccess.bind;\n\n            case 16:\n              _context2.next = 22;\n              break;\n\n            case 18:\n              _context2.prev = 18;\n              _context2.t0 = _context2[\"catch\"](0);\n              message = _context2.t0.message;\n              alert('login: Error:' + message);\n\n            case 22:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[0, 18]]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          Keyboard.dismiss();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        }\n      }, React.createElement(SafeAreaView, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        }\n      }, React.createElement(KeyboardAvoidingView, {\n        style: styles.container,\n        behavior: \"padding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        }\n      }, React.createElement(Image, {\n        style: styles.image,\n        source: image,\n        PlaceholderContent: React.createElement(ActivityIndicator, {\n          size: \"large\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          }\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        }\n      }), this.renderLoading(), React.createElement(Text, {\n        style: {\n          fontSize: 18,\n          textAlign: 'center',\n          color: 'red',\n          width: '80%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        }\n      }, this.state.error), React.createElement(View, {\n        style: styles.fbbutton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        }\n      }, React.createElement(FontAwesome.Button, {\n        name: \"facebook\",\n        backgroundColor: \"#3b5998\",\n        size: 24,\n        borderRadius: 20,\n        style: styles.fbicon,\n        onPress: this.signInWithFacebook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        }\n      }, \"Signup with facebook\")), React.createElement(View, {\n        style: styles.gmailbutton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        }\n      }, React.createElement(MaterialCommunityIcons.Button, {\n        name: \"gmail\",\n        size: 24,\n        backgroundColor: \"#B23121\",\n        borderRadius: 20,\n        style: styles.gmicon,\n        onPress: this.signInWithGoogle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        }\n      }, \"Signup With G-Mail\")), React.createElement(View, {\n        style: styles.footerView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        }\n      }, React.createElement(Text, {\n        style: styles.footerText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        }\n      }, \"Already got an account? \", React.createElement(Text, {\n        onPress: function onPress() {\n          _this2.props.navigation.navigate('Signin');\n        },\n        style: styles.footerLink,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        }\n      }, \"Signin\"))))));\n    }\n  }]);\n\n  return SignupScreen;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    backgroundColor: '#fff'\n  },\n  form: {\n    width: '86%',\n    marginTop: 15\n  },\n  image: {\n    marginTop: 80,\n    height: 200,\n    width: 225,\n    alignSelf: \"center\",\n    margin: 30,\n    marginBottom: -10\n  },\n  account: {\n    alignItems: 'center',\n    marginLeft: 40,\n    marginRight: 40,\n    marginBottom: 10,\n    backgroundColor: \"lightgreen\"\n  },\n  gmailbutton: {\n    marginLeft: 30,\n    marginRight: 30,\n    marginTop: 10,\n    alignItems: 'center',\n    borderRadius: 10\n  },\n  footerView: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  footerText: {\n    fontSize: 16,\n    color: '#2e2e2d'\n  },\n  footerLink: {\n    color: \"#788eec\",\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  fbbutton: {\n    marginTop: 30,\n    marginLeft: 30,\n    marginRight: 30,\n    alignItems: 'center',\n    borderRadius: 40\n  },\n  fbicon: {\n    borderRadius: 30,\n    width: 300,\n    height: 50\n  },\n  gmicon: {\n    borderRadius: 30,\n    width: 300,\n    height: 50\n  }\n});\nexport default SignupScreen;","map":{"version":3,"sources":["C:/Users/juttw/Documents/GitHub/recipes-app-react-native/src/screens/Signup/SignupScreen.js"],"names":["React","FontAwesome","MaterialCommunityIcons","image","firebase","Facebook","GoogleSignIn","initializeAsync","SignupScreen","state","displayName","email","password","errorMessage","loading","props","navigation","navigate","setState","error","logInWithReadPermissionsAsync","permissions","type","token","auth","setPersistence","Auth","Persistence","LOCAL","credential","FacebookAuthProvider","signInWithCredential","facebookProfileData","message","alert","askForPlayServicesAsync","signInAsync","user","GoogleAuthProvider","idToken","accessToken","googleProfileData","onLoginSuccess","bind","Keyboard","dismiss","flex","styles","container","renderLoading","fontSize","textAlign","color","width","fbbutton","fbicon","signInWithFacebook","gmailbutton","gmicon","signInWithGoogle","footerView","footerText","footerLink","Component","StyleSheet","create","flexDirection","alignItems","backgroundColor","form","marginTop","height","alignSelf","margin","marginBottom","account","marginLeft","marginRight","borderRadius","fontWeight"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;AAYA,SAASC,WAAT,EAAsBC,sBAAtB,QAAoD,oBAApD;AACA,OAAOC,KAAP;AACA,OAAO,oBAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AACA,OAAO,KAAKC,YAAZ,MAA8B,qBAA9B;AACAD,QAAQ,CAACE,eAAT,CAAyB,iBAAzB,EAA4C,SAA5C;;IACMC,Y;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,WAAW,EAAE,EAAf;AAAmBC,MAAAA,KAAK,EAAE,EAA1B;AAA8BC,MAAAA,QAAQ,EAAE,EAAxC;AAA4CC,MAAAA,YAAY,EAAE,EAA1D;AAA8DC,MAAAA,OAAO,EAAE;AAAvE,K;;;;;;qCACS;AACf,WAAKC,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,MAA/B;AACD;;;mCACcJ,Y,EAAc;AAC3B,WAAKK,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEN,YAAT;AAAuBC,QAAAA,OAAO,EAAE;AAAhC,OAAd;AACD;;;oCACe;AACd,UAAI,KAAKL,KAAL,CAAWK,OAAf,EAAwB;AACtB,eACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,iBAAD;AAAmB,UAAA,IAAI,EAAE,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD;AACF;;;;;;;;;;;;+CAGiCT,QAAQ,CAACe,6BAAT,CAAuC,iBAAvC,EAA0D;AACtFC,gBAAAA,WAAW,EAAE,CAAC,OAAD,EAAU,gBAAV,EAA4B,cAA5B;AADyE,eAA1D,C;;;;AAAtBC,cAAAA,I,yBAAAA,I;AAAMC,cAAAA,K,yBAAAA,K;;oBAGVD,IAAI,KAAK,S;;;;;;+CAELlB,QAAQ,CAACoB,IAAT,GAAgBC,cAAhB,CAA+BrB,QAAQ,CAACoB,IAAT,CAAcE,IAAd,CAAmBC,WAAnB,CAA+BC,KAA9D,C;;;AACAC,cAAAA,U,GAAazB,QAAQ,CAACoB,IAAT,CAAcM,oBAAd,CAAmCD,UAAnC,CAA8CN,KAA9C,C;;+CACenB,QAAQ,CAACoB,IAAT,GAAgBO,oBAAhB,CAAqCF,UAArC,C;;;AAA5BG,cAAAA,mB;;;;;;;;;AAECC,cAAAA,O,eAAAA,O;AACTC,cAAAA,KAAK,4BAA0BD,OAA1B,CAAL;;;;;;;;;;;;;;;;;;;;+CAKM3B,YAAY,CAAC6B,uBAAb,E;;;;+CACuB7B,YAAY,CAAC8B,WAAb,E;;;;AAArBd,cAAAA,K,yBAAAA,I;AAAMe,cAAAA,I,yBAAAA,I;;oBACVf,KAAI,KAAK,S;;;;;;+CACLlB,QAAQ,CAACoB,IAAT,GAAgBC,cAAhB,CAA+BrB,QAAQ,CAACoB,IAAT,CAAcE,IAAd,CAAmBC,WAAnB,CAA+BC,KAA9D,C;;;AACAC,cAAAA,W,GAAazB,QAAQ,CAACoB,IAAT,CAAcc,kBAAd,CAAiCT,UAAjC,CAA4CQ,IAAI,CAACb,IAAL,CAAUe,OAAtD,EAA+DF,IAAI,CAACb,IAAL,CAAUgB,WAAzE,C;;+CACapC,QAAQ,CAACoB,IAAT,GAAgBO,oBAAhB,CAAqCF,WAArC,C;;;AAA1BY,cAAAA,iB;AACN,mBAAKC,cAAL,CAAoBC,IAApB;;;;;;;;;AAGOV,cAAAA,O,gBAAAA,O;AACTC,cAAAA,KAAK,CAAC,kBAAkBD,OAAnB,CAAL;;;;;;;;;;;6BAGK;AAAA;;AACP,aACE,oBAAC,wBAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACbW,UAAAA,QAAQ,CAACC,OAAT;AACD,SAHH;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,oBAAD;AAAsB,QAAA,KAAK,EAAEC,MAAM,CAACC,SAApC;AAA+C,QAAA,QAAQ,EAAC,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAED,MAAM,CAAC5C,KAArB;AACa,QAAA,MAAM,EAAGA,KADtB;AAEa,QAAA,kBAAkB,EAAE,oBAAC,iBAAD;AAAmB,UAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,UAFjC;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAMG,KAAK8C,aAAL,EANH,EAOE,oBAAC,IAAD;AACE,QAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAE,EADL;AAELC,UAAAA,SAAS,EAAE,QAFN;AAGLC,UAAAA,KAAK,EAAE,KAHF;AAILC,UAAAA,KAAK,EAAE;AAJF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA,SAQG,KAAK5C,KAAL,CAAWU,KARd,CAPF,EAiBE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE4B,MAAM,CAACO,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD,CAAa,MAAb;AACA,QAAA,IAAI,EAAC,UADL;AAEA,QAAA,eAAe,EAAC,SAFhB;AAGA,QAAA,IAAI,EAAE,EAHN;AAIA,QAAA,YAAY,EAAE,EAJd;AAKA,QAAA,KAAK,EAAEP,MAAM,CAACQ,MALd;AAMA,QAAA,OAAO,EAAE,KAAKC,kBANd;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,CAjBF,EA6BM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAET,MAAM,CAACU,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,sBAAD,CAAwB,MAAxB;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,IAAI,EAAE,EAFP;AAGC,QAAA,eAAe,EAAC,SAHjB;AAIC,QAAA,YAAY,EAAE,EAJf;AAKC,QAAA,KAAK,EAAEV,MAAM,CAACW,MALf;AAMC,QAAA,OAAO,EAAE,KAAKC,gBANf;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CA7BN,EAyCM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEZ,MAAM,CAACa,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,MAAM,CAACc,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAwD,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAE,mBAAM;AAC/E,UAAA,MAAI,CAAC9C,KAAL,CAAWC,UAAX,CAAsBC,QAAtB,CAA+B,QAA/B;AACD,SAF2D;AAEzD,QAAA,KAAK,EAAE8B,MAAM,CAACe,UAF2C;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAxD,CADJ,CAzCN,CADF,CALF,CADF;AAyDD;;;;EAzGwB9D,KAAK,CAAC+D,S;;AA2GjC,IAAMhB,MAAM,GAAGiB,UAAU,CAACC,MAAX,CAAkB;AAC/BjB,EAAAA,SAAS,EAAE;AACTF,IAAAA,IAAI,EAAE,CADG;AAEToB,IAAAA,aAAa,EAAE,QAFN;AAGTC,IAAAA,UAAU,EAAE,QAHH;AAITC,IAAAA,eAAe,EAAE;AAJR,GADoB;AAO/BC,EAAAA,IAAI,EAAE;AACJhB,IAAAA,KAAK,EAAE,KADH;AAEJiB,IAAAA,SAAS,EAAE;AAFP,GAPyB;AAW9BnE,EAAAA,KAAK,EAAC;AACDmE,IAAAA,SAAS,EAAC,EADT;AAEDC,IAAAA,MAAM,EAAE,GAFP;AAGDlB,IAAAA,KAAK,EAAE,GAHN;AAIDmB,IAAAA,SAAS,EAAE,QAJV;AAKDC,IAAAA,MAAM,EAAE,EALP;AAMDC,IAAAA,YAAY,EAAE,CAAC;AANd,GAXwB;AAmB7BC,EAAAA,OAAO,EAAE;AACNR,IAAAA,UAAU,EAAC,QADL;AAENS,IAAAA,UAAU,EAAE,EAFN;AAGNC,IAAAA,WAAW,EAAC,EAHN;AAINH,IAAAA,YAAY,EAAC,EAJP;AAKNN,IAAAA,eAAe,EAAC;AALV,GAnBoB;AA0B7BX,EAAAA,WAAW,EAAC;AACTmB,IAAAA,UAAU,EAAC,EADF;AAETC,IAAAA,WAAW,EAAC,EAFH;AAGTP,IAAAA,SAAS,EAAC,EAHD;AAITH,IAAAA,UAAU,EAAC,QAJF;AAKTW,IAAAA,YAAY,EAAC;AALJ,GA1BiB;AAkC7BlB,EAAAA,UAAU,EAAE;AACRd,IAAAA,IAAI,EAAE,CADE;AAERqB,IAAAA,UAAU,EAAE,QAFJ;AAGRG,IAAAA,SAAS,EAAE;AAHH,GAlCiB;AAuC7BT,EAAAA,UAAU,EAAE;AACRX,IAAAA,QAAQ,EAAE,EADF;AAERE,IAAAA,KAAK,EAAE;AAFC,GAvCiB;AA2C7BU,EAAAA,UAAU,EAAC;AACPV,IAAAA,KAAK,EAAE,SADA;AAEP2B,IAAAA,UAAU,EAAE,MAFL;AAGP7B,IAAAA,QAAQ,EAAE;AAHH,GA3CkB;AAgD7BI,EAAAA,QAAQ,EAAC;AACNgB,IAAAA,SAAS,EAAC,EADJ;AAENM,IAAAA,UAAU,EAAC,EAFL;AAGNC,IAAAA,WAAW,EAAC,EAHN;AAINV,IAAAA,UAAU,EAAC,QAJL;AAKNW,IAAAA,YAAY,EAAC;AALP,GAhDoB;AAuD7BvB,EAAAA,MAAM,EAAC;AACHuB,IAAAA,YAAY,EAAC,EADV;AAEHzB,IAAAA,KAAK,EAAE,GAFJ;AAGHkB,IAAAA,MAAM,EAAC;AAHJ,GAvDsB;AA6D7Bb,EAAAA,MAAM,EAAC;AACHoB,IAAAA,YAAY,EAAC,EADV;AAEHzB,IAAAA,KAAK,EAAE,GAFJ;AAGHkB,IAAAA,MAAM,EAAC;AAHJ;AA7DsB,CAAlB,CAAf;AAqEA,eAAe/D,YAAf","sourcesContent":["import React from 'react';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  Image,\r\n  SafeAreaView,\r\n  KeyboardAvoidingView,\r\n  ActivityIndicator,\r\n  Keyboard,\r\n  TouchableWithoutFeedback\r\n} from 'react-native';\r\nimport { FontAwesome, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport image from '../../../assets/splash.png'\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase';\r\nimport * as Facebook from 'expo-facebook'\r\nimport * as GoogleSignIn from 'expo-google-sign-in';\r\nFacebook.initializeAsync('749884709129361', 'UE Cafe');\r\nclass SignupScreen extends React.Component {\r\n  state = { displayName: '', email: '', password: '', errorMessage: '', loading: false };\r\n  onLoginSuccess() {\r\n    this.props.navigation.navigate('Home');\r\n  }\r\n  onLoginFailure(errorMessage) {\r\n    this.setState({ error: errorMessage, loading: false });\r\n  }\r\n  renderLoading() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <View>\r\n          <ActivityIndicator size={'large'} />\r\n        </View>\r\n      );\r\n    }\r\n  }\r\n  async signInWithFacebook() {\r\n    try {\r\n      const { type, token } = await Facebook.logInWithReadPermissionsAsync('749884709129361', {\r\n        permissions: ['email', 'public_profile', 'user_friends']\r\n      });\r\n      if (type === 'success')\r\n       {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\r\n        const credential = firebase.auth.FacebookAuthProvider.credential(token);\r\n        const facebookProfileData = await firebase.auth().signInWithCredential(credential);\r\n      }\r\n    } catch ({ message }) {\r\n      alert(`Facebook Login Error: ${message}`);\r\n    }\r\n  }\r\n  async signInWithGoogle() {\r\n    try {\r\n      await GoogleSignIn.askForPlayServicesAsync();\r\n      const { type, user } = await GoogleSignIn.signInAsync();\r\n      if (type === 'success') {\r\n        await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);\r\n        const credential = firebase.auth.GoogleAuthProvider.credential(user.auth.idToken, user.auth.accessToken,);\r\n        const googleProfileData = await firebase.auth().signInWithCredential(credential);\r\n        this.onLoginSuccess.bind\r\n\r\n      }\r\n    } catch ({ message }) {\r\n      alert('login: Error:' + message);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <TouchableWithoutFeedback\r\n        onPress={() => {\r\n          Keyboard.dismiss();\r\n        }}\r\n      >\r\n        <SafeAreaView style={{ flex: 1 }}>\r\n          <KeyboardAvoidingView style={styles.container} behavior=\"padding\">\r\n          <Image style={styles.image}\r\n                       source={ image }\r\n                       PlaceholderContent={<ActivityIndicator size='large' />}\r\n         />\r\n            \r\n            {this.renderLoading()}\r\n            <Text\r\n              style={{\r\n                fontSize: 18,\r\n                textAlign: 'center',\r\n                color: 'red',\r\n                width: '80%'\r\n              }}\r\n            >\r\n              {this.state.error}\r\n            </Text>\r\n            <View style={styles.fbbutton}>\r\n                <FontAwesome.Button \r\n                name=\"facebook\"\r\n                backgroundColor=\"#3b5998\"\r\n                size={24}\r\n                borderRadius={20}\r\n                style={styles.fbicon}\r\n                onPress={this.signInWithFacebook}\r\n                >\r\n                     Signup with facebook        \r\n                </FontAwesome.Button>\r\n                </View>\r\n                <View style={styles.gmailbutton} >\r\n                    <MaterialCommunityIcons.Button\r\n                     name=\"gmail\" \r\n                     size={24} \r\n                     backgroundColor=\"#B23121\" \r\n                     borderRadius={20}\r\n                     style={styles.gmicon}\r\n                     onPress={this.signInWithGoogle}\r\n                     >\r\n                    Signup With G-Mail\r\n                    </MaterialCommunityIcons.Button>\r\n                </View>\r\n                <View style={styles.footerView}>\r\n                    <Text style={styles.footerText}>Already got an account? <Text onPress={() => {\r\n                  this.props.navigation.navigate('Signin');\r\n                }} style={styles.footerLink}>Signin</Text></Text>\r\n                </View>\r\n          </KeyboardAvoidingView>\r\n        </SafeAreaView>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  }\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '86%',\r\n    marginTop: 15\r\n  },\r\n   image:{\r\n        marginTop:80,\r\n        height: 200,\r\n        width: 225,\r\n        alignSelf: \"center\",\r\n        margin: 30,\r\n        marginBottom: -10\r\n    },\r\n    account: {\r\n       alignItems:'center',\r\n       marginLeft: 40,\r\n       marginRight:40,\r\n       marginBottom:10,\r\n       backgroundColor:\"lightgreen\",\r\n    },\r\n    gmailbutton:{\r\n       marginLeft:30,\r\n       marginRight:30,\r\n       marginTop:10,\r\n       alignItems:'center',\r\n       borderRadius:10\r\n\r\n    },\r\n    footerView: {\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        marginTop: 20\r\n    },\r\n    footerText: {\r\n        fontSize: 16,\r\n        color: '#2e2e2d'\r\n    },\r\n    footerLink:{\r\n        color: \"#788eec\",\r\n        fontWeight: \"bold\",\r\n        fontSize: 16\r\n    },\r\n    fbbutton:{\r\n       marginTop:30,\r\n       marginLeft:30,\r\n       marginRight:30,\r\n       alignItems:'center',\r\n       borderRadius:40,\r\n    },\r\n    fbicon:{\r\n        borderRadius:30,\r\n        width: 300,\r\n        height:50\r\n\r\n    },\r\n    gmicon:{\r\n        borderRadius:30,\r\n        width: 300,\r\n        height:50\r\n\r\n    },\r\n  \r\n});\r\nexport default SignupScreen;"]},"metadata":{},"sourceType":"module"}